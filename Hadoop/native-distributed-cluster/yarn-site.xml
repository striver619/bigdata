<configuration>

<!-- Site specific YARN configuration properties -->

  <!-- 启用ResourceManager高可用模式 -->
  <!-- 必须设置为true以支持主备ResourceManager节点的自动故障转移 -->
  <!--
  <property>
    <name>yarn.resourcemanager.ha.enabled</name>
    <value>true</value>
  </property>
  -->

  <!-- 定义YARN集群的唯一标识 -->
  <!-- 用于区分不同YARN集群，同一集群内的所有ResourceManager需使用相同ID -->
  <property>
    <name>yarn.resourcemanager.cluster-id</name>
    <value>cluster1</value>
  </property>

  <!-- 指定高可用模式下的ResourceManager实例ID列表 -->
  <!-- 多个实例ID用逗号分隔，需与yarn.resourcemanager.hostname.<id>配置一一对应 -->
  <!--
  <property>
    <name>yarn.resourcemanager.ha.rm-ids</name>
    <value>rm1,rm2</value>
  </property>
  -->

  <property>
    <name>yarn.resourcemanager.rm-ids</name>
    <value>rm1</value>
  </property>

  <!-- 配置每个ResourceManager实例的主机名 -->
  <!-- 与rm-ids中的ID一一对应，指定每个RM实例运行的物理节点 -->
  <property>
    <name>yarn.resourcemanager.hostname.rm1</name>
    <value>node146</value>
  </property>
  <!--
  <property>
    <name>yarn.resourcemanager.hostname.rm2</name>
    <value>node147</value>
  </property>
  -->

  <!-- 配置每个ResourceManager的Web UI访问地址 -->
  <!-- 用户通过此地址访问YARN管理界面（如查看应用状态、资源使用情况） -->
  <property>
    <name>yarn.resourcemanager.webapp.address.rm1</name>
    <value>node146:8088</value>
  </property>
  <!--
  <property>
    <name>yarn.resourcemanager.webapp.address.rm2</name>
    <value>node147:8088</value>
  </property>
  -->

  <!-- 配置NodeManager的辅助服务 -->
  <!-- mapreduce_shuffle是MapReduce框架所需的 shuffle 服务，必须与MapReduce版本兼容 -->
  <property>
    <name>yarn.nodemanager.aux-services</name>
    <value>mapreduce_shuffle</value>
  </property>

  <!-- 启用YARN日志聚合功能 -->
  <!-- 日志聚合会将分散在NodeManager的容器日志集中存储，便于查询和分析 -->
  <!-- 生产环境建议启用，需配合yarn.log-aggregation.retain-seconds等参数配置保留策略 -->
  <property>
    <name>yarn.log-aggregation-enable</name>
    <value>true</value>
  </property>

</configuration>

